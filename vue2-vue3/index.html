<!DOCTYPE html>
<html lang="zh-cn"><head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Hi there ğŸ‘‹">
    
    <link rel="shortcut icon" href="https://xiaming.com.cn/favicon.ico">
    
    <link rel="stylesheet" href="/css/style.min.css">

    <link rel="canonical" href="https://xiaming.com.cn/vue2-vue3/" />
    <title>vue2ä¸vue3çš„åŒºåˆ«</title>
</head>
<body><header id="banner">
    <h2><a href="https://xiaming.com.cn/">å¤æ˜</a></h2>
    <nav>
        <ul>
            <li>
                <a href="/" title="é¦–é¡µ">é¦–é¡µ</a>
            </li><li>
                <a href="/about/" title="å…³äº">å…³äº</a>
            </li><li>
                <a href="/index.xml" title="RSS">RSS</a>
            </li>
        </ul>
    </nav>
</header>
<main id="content">
<article>
    <header id="post-header">
        <h1>vue2ä¸vue3çš„åŒºåˆ«</h1>
        <div>
                <time>2021å¹´06æœˆ28æ—¥</time>
            </div>
    </header><h2 id="vue2å’Œvue3åŒå‘æ•°æ®ç»‘å®šåŸç†å‘ç”Ÿäº†æ”¹å˜">vue2å’Œvue3åŒå‘æ•°æ®ç»‘å®šåŸç†å‘ç”Ÿäº†æ”¹å˜</h2>
<p>vue2çš„åŒå‘æ•°æ®ç»‘å®šæ˜¯åˆ©ç”¨ES5çš„ä¸€ä¸ª<code>API Object.definePropert()</code>å¯¹æ•°æ®è¿›è¡ŒåŠ«æŒç»“åˆå‘å¸ƒè®¢é˜…æ¨¡å¼çš„æ–¹å¼æ¥å®ç°çš„ã€‚</p>
<p>vue3ä¸­ä½¿ç”¨äº†es6çš„<code>Proxy</code>APIå¯¹æ•°æ®ä»£ç†ã€‚</p>
<blockquote>
<p>ç›¸æ¯”äºvue2.xï¼Œä½¿ç”¨proxyçš„ä¼˜åŠ¿å¦‚ä¸‹</p>
<ol>
<li>definePropertyåªèƒ½ç›‘å¬æŸä¸ªå±æ€§ï¼Œä¸èƒ½å¯¹å…¨å¯¹è±¡ç›‘å¬</li>
<li>å¯ä»¥çœå»for inã€é—­åŒ…ç­‰å†…å®¹æ¥æå‡æ•ˆç‡ï¼ˆç›´æ¥ç»‘å®šæ•´ä¸ªå¯¹è±¡å³å¯ï¼‰</li>
<li>å¯ä»¥ç›‘å¬æ•°ç»„ï¼Œä¸ç”¨å†å»å•ç‹¬çš„å¯¹æ•°ç»„åšç‰¹å¼‚æ€§æ“ä½œï¼Œvue3.xå¯ä»¥æ£€æµ‹åˆ°æ•°ç»„å†…éƒ¨æ•°æ®çš„å˜åŒ–</li>
</ol>
</blockquote>
<h2 id="vue3æ”¯æŒç¢ç‰‡fragments">Vue3æ”¯æŒç¢ç‰‡(Fragments)</h2>
<p>å°±æ˜¯è¯´åœ¨ç»„ä»¶å¯ä»¥æ‹¥æœ‰å¤šä¸ªæ ¹èŠ‚ç‚¹ã€‚</p>
<h3 id="vue2">vue2</h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">template</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&#39;form-element&#39;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="p">&lt;</span><span class="nt">h2</span><span class="p">&gt;</span> {{ title }} <span class="p">&lt;/</span><span class="nt">h2</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">template</span><span class="p">&gt;</span>
</span></span></code></pre></div><h3 id="vue3">vue3</h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">template</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&#39;form-element&#39;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">   <span class="p">&lt;</span><span class="nt">h2</span><span class="p">&gt;</span> {{ title }} <span class="p">&lt;/</span><span class="nt">h2</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">template</span><span class="p">&gt;</span>
</span></span></code></pre></div><h2 id="composition-api">Composition API</h2>
<p>Vue2ä¸Vue3 æœ€å¤§çš„åŒºåˆ« â€” Vue2ä½¿ç”¨é€‰é¡¹ç±»å‹APIï¼ˆOptions APIï¼‰å¯¹æ¯”Vue3åˆæˆå‹APIï¼ˆComposition APIï¼‰</p>
<blockquote>
<p>æ—§çš„é€‰é¡¹å‹APIåœ¨ä»£ç é‡Œåˆ†å‰²äº†ä¸åŒçš„å±æ€§: data,computedå±æ€§ï¼Œmethodsï¼Œç­‰ç­‰ã€‚æ–°çš„åˆæˆå‹APIèƒ½è®©æˆ‘ä»¬ç”¨æ–¹æ³•ï¼ˆfunctionï¼‰æ¥åˆ†å‰²ï¼Œç›¸æ¯”äºæ—§çš„APIä½¿ç”¨å±æ€§æ¥åˆ†ç»„ï¼Œè¿™æ ·ä»£ç ä¼šæ›´åŠ ç®€ä¾¿å’Œæ•´æ´ã€‚</p>
</blockquote>
<h3 id="vue2-1">vue2</h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-javascript" data-lang="javascript"><span class="line"><span class="cl"><span class="kr">export</span> <span class="k">default</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nx">props</span><span class="o">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">title</span><span class="o">:</span> <span class="nb">String</span>
</span></span><span class="line"><span class="cl">  <span class="p">},</span>
</span></span><span class="line"><span class="cl">  <span class="nx">data</span> <span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="nx">username</span><span class="o">:</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nx">password</span><span class="o">:</span> <span class="s1">&#39;&#39;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="p">},</span>
</span></span><span class="line"><span class="cl">  <span class="nx">methods</span><span class="o">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">login</span> <span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="c1">// ç™»é™†æ–¹æ³•
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="p">},</span>
</span></span><span class="line"><span class="cl">  <span class="nx">components</span><span class="o">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="s2">&#34;buttonComponent&#34;</span><span class="o">:</span> <span class="nx">btnComponent</span>
</span></span><span class="line"><span class="cl">        <span class="p">},</span>
</span></span><span class="line"><span class="cl">  <span class="nx">computed</span><span class="o">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	  <span class="nx">fullName</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	    <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">firstName</span> <span class="o">+</span> <span class="s2">&#34; &#34;</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">lastName</span><span class="p">;</span>     
</span></span><span class="line"><span class="cl">	  <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><h3 id="vue3-1">vue3</h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-javascript" data-lang="javascript"><span class="line"><span class="cl"><span class="kr">export</span> <span class="k">default</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nx">props</span><span class="o">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">title</span><span class="o">:</span> <span class="nb">String</span>
</span></span><span class="line"><span class="cl">  <span class="p">},</span>
</span></span><span class="line"><span class="cl">  <span class="nx">setup</span> <span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kr">const</span> <span class="nx">state</span> <span class="o">=</span> <span class="nx">reactive</span><span class="p">({</span> <span class="c1">//æ•°æ®
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>      <span class="nx">username</span><span class="o">:</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nx">password</span><span class="o">:</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nx">lowerCaseUsername</span><span class="o">:</span> <span class="nx">computed</span><span class="p">(()</span> <span class="p">=&gt;</span> <span class="nx">state</span><span class="p">.</span><span class="nx">username</span><span class="p">.</span><span class="nx">toLowerCase</span><span class="p">())</span> <span class="c1">//è®¡ç®—å±æ€§
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="p">})</span>
</span></span><span class="line"><span class="cl">     <span class="c1">//æ–¹æ³•
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="kr">const</span> <span class="nx">login</span> <span class="o">=</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="c1">// ç™»é™†æ–¹æ³•
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="p">{</span> 
</span></span><span class="line"><span class="cl">      <span class="nx">login</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nx">state</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><h2 id="å»ºç«‹æ•°æ®-data">å»ºç«‹æ•°æ® data</h2>
<h3 id="vue2---è¿™é‡ŒæŠŠæ•°æ®æ”¾å…¥dataå±æ€§ä¸­">Vue2 - è¿™é‡ŒæŠŠæ•°æ®æ”¾å…¥dataå±æ€§ä¸­</h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-javascript" data-lang="javascript"><span class="line"><span class="cl"><span class="kr">export</span> <span class="k">default</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nx">props</span><span class="o">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">title</span><span class="o">:</span> <span class="nb">String</span>
</span></span><span class="line"><span class="cl">  <span class="p">},</span>
</span></span><span class="line"><span class="cl">  <span class="nx">data</span> <span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="nx">username</span><span class="o">:</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nx">password</span><span class="o">:</span> <span class="s1">&#39;&#39;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>åœ¨Vue3.0ï¼Œæˆ‘ä»¬å°±éœ€è¦ä½¿ç”¨ä¸€ä¸ªæ–°çš„setup()æ–¹æ³•ï¼Œæ­¤æ–¹æ³•åœ¨ç»„ä»¶åˆå§‹åŒ–æ„é€ çš„æ—¶å€™è§¦å‘ã€‚</p>
<p>ä½¿ç”¨ä»¥ä¸‹ä¸‰æ­¥æ¥å»ºç«‹ååº”æ€§æ•°æ®:</p>
<ol>
<li>
<p>ä»vueå¼•å…¥reactive</p>
</li>
<li>
<p>ä½¿ç”¨reactive()æ–¹æ³•æ¥å£°åæˆ‘ä»¬çš„æ•°æ®ä¸ºå“åº”æ€§æ•°æ®</p>
</li>
<li>
<p>ä½¿ç”¨setup()æ–¹æ³•æ¥è¿”å›æˆ‘ä»¬çš„å“åº”æ€§æ•°æ®ï¼Œä»è€Œæˆ‘ä»¬çš„templateå¯ä»¥è·å–è¿™äº›å“åº”æ€§æ•°æ®</p>
</li>
</ol>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-javascript" data-lang="javascript"><span class="line"><span class="cl"><span class="kr">import</span> <span class="p">{</span> <span class="nx">reactive</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;vue&#39;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kr">export</span> <span class="k">default</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nx">props</span><span class="o">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">title</span><span class="o">:</span> <span class="nb">String</span>
</span></span><span class="line"><span class="cl">  <span class="p">},</span>
</span></span><span class="line"><span class="cl">  <span class="nx">setup</span> <span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kr">const</span> <span class="nx">state</span> <span class="o">=</span> <span class="nx">reactive</span><span class="p">({</span>
</span></span><span class="line"><span class="cl">      <span class="nx">username</span><span class="o">:</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nx">password</span><span class="o">:</span> <span class="s1">&#39;&#39;</span>
</span></span><span class="line"><span class="cl">    <span class="p">})</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="p">{</span> <span class="nx">state</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>templateä½¿ç”¨ï¼Œå¯ä»¥é€šè¿‡state.usernameå’Œstate.passwordè·å¾—æ•°æ®çš„å€¼ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">template</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">h2</span><span class="p">&gt;</span> {{ state.username }} <span class="p">&lt;/</span><span class="nt">h2</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">template</span><span class="p">&gt;</span>
</span></span></code></pre></div><h2 id="ç”Ÿå‘½å‘¨æœŸé’©å­--lifecyle-hooks">ç”Ÿå‘½å‘¨æœŸé’©å­ â€” Lifecyle Hooks</h2>
<pre tabindex="0"><code>Vue2--------------vue3
beforeCreate  -&gt; setup()
created       -&gt; setup()
beforeMount   -&gt; onBeforeMount
mounted       -&gt; onMounted
beforeUpdate  -&gt; onBeforeUpdate
updated       -&gt; onUpdated
beforeDestroy -&gt; onBeforeUnmount
destroyed     -&gt; onUnmounted
activated     -&gt; onActivated
deactivated   -&gt; onDeactivated
</code></pre><ol>
<li>
<p>setup() :å¼€å§‹åˆ›å»ºç»„ä»¶ä¹‹å‰ï¼Œåœ¨beforeCreateå’Œcreatedä¹‹å‰æ‰§è¡Œã€‚åˆ›å»ºçš„æ˜¯dataå’Œmethod</p>
</li>
<li>
<p>onBeforeMount() : ç»„ä»¶æŒ‚è½½åˆ°èŠ‚ç‚¹ä¸Šä¹‹å‰æ‰§è¡Œçš„å‡½æ•°ã€‚</p>
</li>
<li>
<p>onMounted() : ç»„ä»¶æŒ‚è½½å®Œæˆåæ‰§è¡Œçš„å‡½æ•°ã€‚</p>
</li>
<li>
<p>onBeforeUpdate(): ç»„ä»¶æ›´æ–°ä¹‹å‰æ‰§è¡Œçš„å‡½æ•°ã€‚</p>
</li>
<li>
<p>onUpdated(): ç»„ä»¶æ›´æ–°å®Œæˆä¹‹åæ‰§è¡Œçš„å‡½æ•°ã€‚</p>
</li>
<li>
<p>onBeforeUnmount(): ç»„ä»¶å¸è½½ä¹‹å‰æ‰§è¡Œçš„å‡½æ•°ã€‚</p>
</li>
<li>
<p>onUnmounted(): ç»„ä»¶å¸è½½å®Œæˆåæ‰§è¡Œçš„å‡½æ•°</p>
</li>
</ol>
<p>è‹¥ç»„ä»¶è¢«<code>&lt;keep-alive&gt;</code>åŒ…å«ï¼Œåˆ™å¤šå‡ºä¸‹é¢ä¸¤ä¸ªé’©å­å‡½æ•°ã€‚</p>
<ol>
<li>
<p>onActivated(): è¢«åŒ…å«åœ¨ä¸­çš„ç»„ä»¶ï¼Œä¼šå¤šå‡ºä¸¤ä¸ªç”Ÿå‘½å‘¨æœŸé’©å­å‡½æ•°ã€‚è¢«æ¿€æ´»æ—¶æ‰§è¡Œ ã€‚</p>
</li>
<li>
<p>onDeactivated(): æ¯”å¦‚ä» Aç»„ä»¶ï¼Œåˆ‡æ¢åˆ° B ç»„ä»¶ï¼ŒA ç»„ä»¶æ¶ˆå¤±æ—¶æ‰§è¡Œã€‚</p>
</li>
</ol>
<h2 id="çˆ¶å­ä¼ å‚ä¸åŒsetup-å‡½æ•°ç‰¹æ€§">çˆ¶å­ä¼ å‚ä¸åŒï¼Œsetup() å‡½æ•°ç‰¹æ€§</h2>
<h3 id="æ€»ç»“">æ€»ç»“</h3>
<p>1ã€setup å‡½æ•°æ—¶ï¼Œå®ƒå°†æ¥å—ä¸¤ä¸ªå‚æ•°ï¼šï¼ˆpropsã€context(åŒ…å«attrsã€slotsã€emit)ï¼‰</p>
<p>2ã€setupå‡½æ•°æ˜¯å¤„äº ç”Ÿå‘½å‘¨æœŸå‡½æ•° beforeCreate å’Œ Created ä¸¤ä¸ªé’©å­å‡½æ•°ä¹‹å‰çš„å‡½æ•°</p>
<p>3ã€æ‰§è¡Œ setup æ—¶ï¼Œç»„ä»¶å®ä¾‹å°šæœªè¢«åˆ›å»ºï¼ˆåœ¨ setup() å†…éƒ¨ï¼Œthis ä¸ä¼šæ˜¯è¯¥æ´»è·ƒå®ä¾‹çš„å¼•ç”¨ï¼Œå³ä¸æŒ‡å‘vueå®ä¾‹ï¼ŒVue ä¸ºäº†é¿å…æˆ‘ä»¬é”™è¯¯çš„ä½¿ç”¨ï¼Œç›´æ¥å°† setupå‡½æ•°ä¸­çš„thisä¿®æ”¹æˆäº† undefinedï¼‰</p>
<p>4ã€ä¸æ¨¡æ¿ä¸€èµ·ä½¿ç”¨ï¼šéœ€è¦è¿”å›ä¸€ä¸ªå¯¹è±¡ (åœ¨setupå‡½æ•°ä¸­å®šä¹‰çš„å˜é‡å’Œæ–¹æ³•æœ€åéƒ½æ˜¯éœ€è¦ return å‡ºå»çš„ ä¸ç„¶æ— æ³•å†æ¨¡æ¿ä¸­ä½¿ç”¨)</p>
<p>5ã€ä½¿ç”¨æ¸²æŸ“å‡½æ•°ï¼šå¯ä»¥è¿”å›ä¸€ä¸ªæ¸²æŸ“å‡½æ•°ï¼Œè¯¥å‡½æ•°å¯ä»¥ç›´æ¥ä½¿ç”¨åœ¨åŒä¸€ä½œç”¨åŸŸä¸­å£°æ˜çš„å“åº”å¼çŠ¶æ€</p>
<h3 id="æ³¨æ„äº‹é¡¹">æ³¨æ„äº‹é¡¹</h3>
<p>1ã€setupå‡½æ•°ä¸­ä¸èƒ½ä½¿ç”¨thisã€‚Vue ä¸ºäº†é¿å…æˆ‘ä»¬é”™è¯¯çš„ä½¿ç”¨ï¼Œç›´æ¥å°† setupå‡½æ•°ä¸­çš„thisä¿®æ”¹æˆäº† undefinedï¼‰</p>
<p>2ã€setup å‡½æ•°ä¸­çš„ props æ˜¯å“åº”å¼çš„ï¼Œå½“ä¼ å…¥æ–°çš„ prop æ—¶ï¼Œå®ƒå°†è¢«æ›´æ–°ã€‚ä½†æ˜¯ï¼Œå› ä¸º props æ˜¯å“åº”å¼çš„ï¼Œä½ ä¸èƒ½ä½¿ç”¨ ES6 è§£æ„ï¼Œå› ä¸ºå®ƒä¼šæ¶ˆé™¤ prop çš„å“åº”æ€§ã€‚</p>
<p>å¦‚æœéœ€è¦è§£æ„ propï¼Œå¯ä»¥é€šè¿‡ä½¿ç”¨ setup å‡½æ•°ä¸­çš„<code>toRefs</code>æ¥å®Œæˆæ­¤æ“ä½œï¼š</p>
<h4 id="çˆ¶ä¼ å­props">çˆ¶ä¼ å­ï¼Œprops</h4>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-javascript" data-lang="javascript"><span class="line"><span class="cl"><span class="kr">import</span> <span class="p">{</span> <span class="nx">toRefs</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;vue&#39;</span>
</span></span><span class="line"><span class="cl"> 
</span></span><span class="line"><span class="cl"><span class="nx">setup</span><span class="p">(</span><span class="nx">props</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="kr">const</span> <span class="p">{</span> <span class="nx">title</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">toRefs</span><span class="p">(</span><span class="nx">props</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"> 
</span></span><span class="line"><span class="cl">	<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">title</span><span class="p">.</span><span class="nx">value</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	 <span class="nx">onMounted</span><span class="p">(()</span> <span class="p">=&gt;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;title: &#39;</span> <span class="o">+</span> <span class="nx">props</span><span class="p">.</span><span class="nx">title</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">})</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><h4 id="å­ä¼ çˆ¶äº‹ä»¶---emitting-events">å­ä¼ çˆ¶ï¼Œäº‹ä»¶ - Emitting Events</h4>
<p>ä¸¾ä¾‹ï¼Œç°åœ¨æˆ‘ä»¬æƒ³åœ¨ç‚¹å‡»æäº¤æŒ‰é’®æ—¶è§¦å‘ä¸€ä¸ªloginçš„äº‹ä»¶ã€‚</p>
<p>åœ¨ Vue2 ä¸­æˆ‘ä»¬ä¼šè°ƒç”¨åˆ°this.$emitç„¶åä¼ å…¥äº‹ä»¶åå’Œå‚æ•°å¯¹è±¡ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-javascript" data-lang="javascript"><span class="line"><span class="cl"><span class="nx">login</span> <span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="k">this</span><span class="p">.</span><span class="nx">$emit</span><span class="p">(</span><span class="s1">&#39;login&#39;</span><span class="p">,</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nx">username</span><span class="o">:</span> <span class="k">this</span><span class="p">.</span><span class="nx">username</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nx">password</span><span class="o">:</span> <span class="k">this</span><span class="p">.</span><span class="nx">password</span>
</span></span><span class="line"><span class="cl">      <span class="p">})</span>
</span></span><span class="line"><span class="cl"> <span class="p">}</span>
</span></span></code></pre></div><p>åœ¨setup()ä¸­çš„ç¬¬äºŒä¸ªå‚æ•°contentå¯¹è±¡ä¸­å°±æœ‰emitï¼Œè¿™ä¸ªæ˜¯å’Œthis.$emitæ˜¯ä¸€æ ·çš„ã€‚é‚£ä¹ˆæˆ‘ä»¬åªè¦åœ¨setup()æ¥æ”¶ç¬¬äºŒä¸ªå‚æ•°ä¸­ä½¿ç”¨åˆ†è§£å¯¹è±¡æ³•å–å‡ºemitå°±å¯ä»¥åœ¨setupæ–¹æ³•ä¸­éšæ„ä½¿ç”¨äº†ã€‚</p>
<p>ç„¶åæˆ‘ä»¬åœ¨loginæ–¹æ³•ä¸­ç¼–å†™ç™»é™†äº‹ä»¶</p>
<p>å¦å¤–ï¼šcontext æ˜¯ä¸€ä¸ªæ™®é€šçš„ JavaScript å¯¹è±¡ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå®ƒä¸æ˜¯å“åº”å¼çš„ï¼Œè¿™æ„å‘³ç€ä½ å¯ä»¥å®‰å…¨åœ°å¯¹ context ä½¿ç”¨ ES6 è§£æ„</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-javascript" data-lang="javascript"><span class="line"><span class="cl"><span class="nx">setup</span> <span class="p">(</span><span class="nx">props</span><span class="p">,</span> <span class="p">{</span> <span class="nx">attrs</span><span class="p">,</span> <span class="nx">slots</span><span class="p">,</span> <span class="nx">emit</span> <span class="p">})</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// ...
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="kr">const</span> <span class="nx">login</span> <span class="o">=</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="nx">emit</span><span class="p">(</span><span class="s1">&#39;login&#39;</span><span class="p">,</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nx">username</span><span class="o">:</span> <span class="nx">state</span><span class="p">.</span><span class="nx">username</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nx">password</span><span class="o">:</span> <span class="nx">state</span><span class="p">.</span><span class="nx">password</span>
</span></span><span class="line"><span class="cl">      <span class="p">})</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1">// ...
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="p">}</span>
</span></span></code></pre></div><p>3ã€setup()å†…ä½¿ç”¨å“åº”å¼æ•°æ®æ—¶ï¼Œéœ€è¦é€šè¿‡.valueè·å–</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-javascript" data-lang="javascript"><span class="line"><span class="cl"><span class="kr">import</span> <span class="p">{</span> <span class="nx">ref</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;vue&#39;</span>
</span></span><span class="line"><span class="cl"> 
</span></span><span class="line"><span class="cl"><span class="kr">const</span> <span class="nx">count</span> <span class="o">=</span> <span class="nx">ref</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">count</span><span class="p">.</span><span class="nx">value</span><span class="p">)</span> <span class="c1">// 0
</span></span></span></code></pre></div><p>4ã€ä» setup() ä¸­è¿”å›çš„å¯¹è±¡ä¸Šçš„ property è¿”å›å¹¶å¯ä»¥åœ¨æ¨¡æ¿ä¸­è¢«è®¿é—®æ—¶ï¼Œå®ƒå°†è‡ªåŠ¨å±•å¼€ä¸ºå†…éƒ¨å€¼ã€‚ä¸éœ€è¦åœ¨æ¨¡æ¿ä¸­è¿½åŠ  .value</p>
<p>5ã€setupå‡½æ•°åªèƒ½æ˜¯åŒæ­¥çš„ä¸èƒ½æ˜¯å¼‚æ­¥çš„</p>
<h2 id="vue3-teleportç¬ç§»ç»„ä»¶">vue3 Teleportç¬ç§»ç»„ä»¶</h2>
<p>Teleportä¸€èˆ¬è¢«ç¿»è¯‘æˆç¬é—´ç§»åŠ¨ç»„ä»¶,å®é™…ä¸Šæ˜¯ä¸å¥½ç†è§£çš„.æˆ‘æŠŠä»–ç†è§£æˆ&quot;ç‹¬ç«‹ç»„ä»¶&quot;,ä»–å¯ä»¥æ‹¿ä½ å†™çš„ç»„ä»¶æŒ‚è½½åˆ°ä»»ä½•ä½ æƒ³æŒ‚è½½çš„DOMä¸Š,æ‰€ä»¥æ˜¯å¾ˆè‡ªç”±å¾ˆç‹¬ç«‹çš„</p>
<p>ä»¥ä¸€ä¸ªä¾‹å­æ¥çœ‹:ç¼–å†™ä¸€ä¸ªå¼¹çª—ç»„ä»¶</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">template</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">teleport</span> <span class="na">to</span><span class="o">=</span><span class="s">&#34;#modal&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="p">&lt;</span><span class="nt">div</span> <span class="na">id</span><span class="o">=</span><span class="s">&#34;center&#34;</span> <span class="na">v-if</span><span class="o">=</span><span class="s">&#34;isOpen&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">h2</span><span class="p">&gt;&lt;</span><span class="nt">slot</span><span class="p">&gt;</span>this is a modal<span class="p">&lt;/</span><span class="nt">slot</span><span class="p">&gt;&lt;/</span><span class="nt">h2</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">button</span> <span class="err">@</span><span class="na">click</span><span class="o">=</span><span class="s">&#34;buttonClick&#34;</span><span class="p">&gt;</span>Close<span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">teleport</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">template</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">script</span> <span class="na">lang</span><span class="o">=</span><span class="s">&#34;ts&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kr">export</span> <span class="k">default</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nx">props</span><span class="o">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">isOpen</span><span class="o">:</span> <span class="nb">Boolean</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="p">},</span>
</span></span><span class="line"><span class="cl">  <span class="nx">emits</span><span class="o">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="s1">&#39;close-modal&#39;</span><span class="o">:</span> <span class="kc">null</span>
</span></span><span class="line"><span class="cl">  <span class="p">},</span>
</span></span><span class="line"><span class="cl">  <span class="nx">setup</span><span class="p">(</span><span class="nx">props</span><span class="p">,</span> <span class="nx">context</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kr">const</span> <span class="nx">buttonClick</span> <span class="o">=</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="nx">context</span><span class="p">.</span><span class="nx">emit</span><span class="p">(</span><span class="s1">&#39;close-modal&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="nx">buttonClick</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">style</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="p">#</span><span class="nn">center</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">width</span><span class="p">:</span> <span class="mi">200</span><span class="kt">px</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="k">height</span><span class="p">:</span> <span class="mi">200</span><span class="kt">px</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="k">border</span><span class="p">:</span> <span class="mi">2</span><span class="kt">px</span> <span class="kc">solid</span> <span class="kc">black</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="k">background</span><span class="p">:</span> <span class="kc">white</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="k">position</span><span class="p">:</span> <span class="kc">fixed</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="k">left</span><span class="p">:</span> <span class="mi">50</span><span class="kt">%</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="k">top</span><span class="p">:</span> <span class="mi">50</span><span class="kt">%</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="k">margin-left</span><span class="p">:</span> <span class="mi">-100</span><span class="kt">px</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="k">margin-top</span><span class="p">:</span> <span class="mi">-100</span><span class="kt">px</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">style</span><span class="p">&gt;</span>
</span></span></code></pre></div><p>åœ¨app.vueä¸­ä½¿ç”¨çš„æ—¶å€™è·Ÿæ™®é€šç»„ä»¶è°ƒç”¨æ˜¯ä¸€æ ·çš„</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">template</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">div</span> <span class="na">id</span><span class="o">=</span><span class="s">&#34;app&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="p">&lt;</span><span class="nt">img</span> <span class="na">alt</span><span class="o">=</span><span class="s">&#34;Vue logo&#34;</span> <span class="na">src</span><span class="o">=</span><span class="s">&#34;./assets/logo.png&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="p">&lt;</span><span class="nt">HelloWorld</span> <span class="na">msg</span><span class="o">=</span><span class="s">&#34;Welcome to Your Vue.js App&#34;</span><span class="p">/&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="p">&lt;</span><span class="nt">HooksDemo</span><span class="p">&gt;&lt;/</span><span class="nt">HooksDemo</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="p">&lt;</span><span class="nt">button</span> <span class="err">@</span><span class="na">click</span><span class="o">=</span><span class="s">&#34;openModal&#34;</span><span class="p">&gt;</span>Open Modal<span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;&lt;</span><span class="nt">br</span><span class="p">/&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">modal</span> <span class="na">:isOpen</span><span class="o">=</span><span class="s">&#34;modalIsOpen&#34;</span> <span class="err">@</span><span class="na">close-modal</span><span class="o">=</span><span class="s">&#34;onModalClose&#34;</span><span class="p">&gt;</span> My Modal !!!!<span class="p">&lt;/</span><span class="nt">modal</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">template</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="kr">import</span> <span class="nx">HelloWorld</span> <span class="nx">from</span> <span class="s1">&#39;./components/HelloWorld.vue&#39;</span>
</span></span><span class="line"><span class="cl"><span class="kr">import</span> <span class="nx">HooksDemo</span> <span class="nx">from</span> <span class="s1">&#39;./components/HooksDemo.vue&#39;</span>
</span></span><span class="line"><span class="cl"><span class="kr">import</span> <span class="nx">Modal</span> <span class="nx">from</span> <span class="s1">&#39;./components/Modal.vue&#39;</span>
</span></span><span class="line"><span class="cl"><span class="kr">import</span><span class="p">{</span><span class="nx">ref</span><span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;vue&#39;</span>
</span></span><span class="line"><span class="cl"><span class="kr">export</span> <span class="k">default</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nx">name</span><span class="o">:</span> <span class="s1">&#39;App&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nx">components</span><span class="o">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">HelloWorld</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nx">HooksDemo</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nx">Modal</span>
</span></span><span class="line"><span class="cl">  <span class="p">},</span>
</span></span><span class="line"><span class="cl">  <span class="nx">setup</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kr">const</span> <span class="nx">modalIsOpen</span> <span class="o">=</span> <span class="nx">ref</span><span class="p">(</span><span class="kc">false</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="kr">const</span> <span class="nx">openModal</span> <span class="o">=</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="nx">modalIsOpen</span><span class="p">.</span><span class="nx">value</span> <span class="o">=</span> <span class="kc">true</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="kr">const</span> <span class="nx">onModalClose</span> <span class="o">=</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="nx">modalIsOpen</span><span class="p">.</span><span class="nx">value</span> <span class="o">=</span> <span class="kc">false</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="nx">modalIsOpen</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nx">openModal</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nx">onModalClose</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">style</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">#</span><span class="nn">app</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="k">font-family</span><span class="p">:</span> <span class="n">Avenir</span><span class="p">,</span> <span class="n">Helvetica</span><span class="p">,</span> <span class="n">Arial</span><span class="p">,</span> <span class="kc">sans-serif</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="kp">-webkit-</span><span class="n">font-smoothing</span><span class="p">:</span> <span class="n">antialiased</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="kp">-moz-</span><span class="n">osx-font-smoothing</span><span class="p">:</span> <span class="n">grayscale</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="k">text-align</span><span class="p">:</span> <span class="kc">center</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="k">color</span><span class="p">:</span> <span class="mh">#2c3e50</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="k">margin-top</span><span class="p">:</span> <span class="mi">60</span><span class="kt">px</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">style</span><span class="p">&gt;</span>
</span></span></code></pre></div><p>è¦æ˜¯åœ¨app.vueæ–‡ä»¶ä¸­ä½¿ç”¨çš„æ—¶å€™,modalæ˜¯åœ¨appçš„ DOMèŠ‚ç‚¹ä¹‹ä¸‹çš„,çˆ¶èŠ‚ç‚¹çš„domç»“æ„å’Œcsséƒ½ä¼šç»™modaläº§ç”Ÿå½±å“</p>
<p>äºæ˜¯äº§ç”Ÿçš„é—®é¢˜</p>
<ol>
<li>
<p>modalè¢«åŒ…è£¹åœ¨å…¶å®ƒç»„ä»¶ä¹‹ä¸­ï¼Œå®¹æ˜“è¢«å¹²æ‰°</p>
</li>
<li>
<p>æ ·å¼ä¹Ÿåœ¨å…¶å®ƒç»„ä»¶ä¸­ï¼Œå®¹æ˜“å˜å¾—éå¸¸æ··ä¹±</p>
</li>
</ol>
<p>Teleport å¯ä»¥æŠŠmodalç»„ä»¶æ¸²æŸ“åˆ°ä»»æ„ä½ æƒ³æ¸²æŸ“çš„å¤–éƒ¨Domä¸Š,ä¸å¿…åµŒå¥—åœ¨#appä¸­,è¿™æ ·å°±å¯ä»¥äº’ä¸å¹²æ‰°äº†,å¯ä»¥æŠŠTeleportçœ‹æˆä¸€ä¸ªä¼ é€é—¨,æŠŠä½ çš„ç»„ä»¶ä¼ é€åˆ°ä»»ä½•åœ°æ–¹</p>
<p>ä½¿ç”¨çš„æ—¶å€™ toå±æ€§å¯ä»¥ç¡®å®šæƒ³è¦æŒ‚è½½çš„DOMèŠ‚ç‚¹ä¸‹é¢</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">template</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="p">&lt;</span><span class="nt">teleport</span> <span class="na">to</span><span class="o">=</span><span class="s">&#34;#modal&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">div</span> <span class="na">id</span><span class="o">=</span><span class="s">&#34;center&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">      <span class="p">&lt;</span><span class="nt">h2</span><span class="p">&gt;</span>å¤æ˜<span class="p">&lt;/</span><span class="nt">h2</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="p">&lt;/</span><span class="nt">teleport</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">template</span><span class="p">&gt;</span>
</span></span></code></pre></div><p>åœ¨publicæ–‡ä»¶å¤¹ä¸‹çš„index.htmlä¸­å¢åŠ ä¸€ä¸ªèŠ‚ç‚¹</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="line"><span class="cl"><span class="cp">&lt;!DOCTYPE html&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">html</span> <span class="na">lang</span><span class="o">=</span><span class="s">&#34;en&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="p">&lt;</span><span class="nt">head</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">meta</span> <span class="na">charset</span><span class="o">=</span><span class="s">&#34;utf-8&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">meta</span> <span class="na">http-equiv</span><span class="o">=</span><span class="s">&#34;X-UA-Compatible&#34;</span> <span class="na">content</span><span class="o">=</span><span class="s">&#34;IE=edge&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">meta</span> <span class="na">name</span><span class="o">=</span><span class="s">&#34;viewport&#34;</span> <span class="na">content</span><span class="o">=</span><span class="s">&#34;width=device-width,initial-scale=1.0&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">link</span> <span class="na">rel</span><span class="o">=</span><span class="s">&#34;icon&#34;</span> <span class="na">href</span><span class="o">=</span><span class="s">&#34;&lt;%= BASE_URL %&gt;favicon.ico&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">title</span><span class="p">&gt;</span><span class="err">&lt;</span>%= htmlWebpackPlugin.options.title %&gt;<span class="p">&lt;/</span><span class="nt">title</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="p">&lt;/</span><span class="nt">head</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="p">&lt;</span><span class="nt">body</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">noscript</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">      <span class="p">&lt;</span><span class="nt">strong</span><span class="p">&gt;</span>We&#39;re sorry but <span class="err">&lt;</span>%= htmlWebpackPlugin.options.title %&gt; doesn&#39;t work properly without JavaScript enabled. Please enable it to continue.<span class="p">&lt;/</span><span class="nt">strong</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;/</span><span class="nt">noscript</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">div</span> <span class="na">id</span><span class="o">=</span><span class="s">&#34;app&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">div</span> <span class="na">id</span><span class="o">=</span><span class="s">&#34;modal&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="c">&lt;!-- built files will be auto injected --&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="p">&lt;/</span><span class="nt">body</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">html</span><span class="p">&gt;</span>
</span></span></code></pre></div><p>è¿™æ ·å¯ä»¥çœ‹åˆ°modalç»„ä»¶å°±æ˜¯æ²¡æœ‰æŒ‚è½½åœ¨appä¸‹,ä¸å†å—appç»„ä»¶çš„å½±å“äº†</p>
</article>

        </main><footer id="footer">
    Â© å¤æ˜
</footer>
</body>
</html>
